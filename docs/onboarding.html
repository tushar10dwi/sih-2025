<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NaviDisha - Profile Setup</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1E3A8A;
            --primary-light: #3b5998;
            --secondary: #059669;
            --accent: #F59E0B;
            --background: #F9FAFB;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --white: #FFFFFF;
            --error: #EF4444;
            --success: #10B981;
            --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            color: var(--text-dark);
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.05) 0%, rgba(5, 150, 105, 0.05) 100%);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.3;
        }

        /* Header Styles */
        header {
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--white);
            box-shadow: var(--shadow-sm);
            z-index: 1000;
            padding: 15px 0;
            transition: var(--transition);
        }

        header.scrolled {
            padding: 10px 0;
            box-shadow: var(--shadow-md);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-text {
            font-family: 'Poppins', sans-serif;
            font-size: 24px;
            font-weight: 800;
            color: var(--primary);
            margin-left: 10px;
        }

        .logo-accent {
            color: var(--accent);
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
            width: 100%;
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            gap: 40px;
            align-items: flex-start;
        }

        .onboarding-container {
            flex: 1;
            max-width: 700px;
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin: 0 auto;
        }

        .onboarding-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--white);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .onboarding-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 10s infinite linear;
        }

        .onboarding-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }

        .onboarding-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        .progress-container {
            padding: 20px 30px;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 2;
        }

        .progress-bar {
            height: 8px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--accent);
            border-radius: 4px;
            transition: var(--transition);
            width: 20%;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }

        .onboarding-body {
            padding: 30px;
        }

        .step-container {
            display: none;
            opacity: 0;
            transform: translateX(20px);
            transition: var(--transition);
        }

        .step-container.active {
            display: block;
            opacity: 1;
            transform: translateX(0);
        }

        .step-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .step-description {
            color: var(--text-light);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-dark);
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #E5E7EB;
            border-radius: 10px;
            font-size: 16px;
            transition: var(--transition);
            background-color: var(--background);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.2);
        }

        .form-input.error {
            border-color: var(--error);
        }

        .form-input.success {
            border-color: var(--success);
        }
        
        .form-input:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        .error-message {
            color: var(--error);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .select-wrapper {
            position: relative;
        }

        .select-wrapper::after {
            content: '\f078';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            pointer-events: none;
        }

        .select-wrapper select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

        .hint-text {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-top: 5px;
        }

        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .interest-item {
            position: relative;
        }

        .interest-input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .interest-label {
            display: block;
            padding: 12px 15px;
            background-color: var(--background);
            border: 2px solid #E5E7EB;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .interest-input:checked + .interest-label {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .interest-input:not(:checked):hover + .interest-label {
            border-color: var(--primary-light);
        }

        .chips-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .skill-chip {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            background-color: var(--background);
            border-radius: 50px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid #E5E7EB;
        }

        .skill-chip:hover {
            background-color: #E5E7EB;
        }

        .skill-chip.selected {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .skill-chip .remove {
            margin-left: 5px;
            font-size: 0.75rem;
        }

        .skill-input-container {
            position: relative;
            margin-top: 15px;
        }

        .skill-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #E5E7EB;
            border-radius: 10px;
            font-size: 16px;
            transition: var(--transition);
        }

        .skill-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--white);
            border-radius: 0 0 10px 10px;
            box-shadow: var(--shadow-md);
            z-index: 10;
            display: none;
        }

        .skill-suggestion {
            padding: 10px 15px;
            cursor: pointer;
            transition: var(--transition);
        }

        .skill-suggestion:hover {
            background-color: var(--background);
        }

        .summary-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #E5E7EB;
        }

        .summary-label {
            font-weight: 500;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .summary-value {
            font-size: 1.1rem;
        }

        .summary-edit {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.875rem;
            margin-top: 5px;
            display: inline-block;
        }

        .summary-edit:hover {
            text-decoration: underline;
        }

        .buttons-container {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            border: none;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background-color: rgba(30, 58, 138, 0.1);
            transform: translateY(-2px);
        }

        .btn-accent {
            background-color: var(--accent);
            color: var(--white);
        }

        .btn-accent:hover {
            background-color: #E69008;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Priority Goals Styles */
        .priority-goals-container {
            margin-top: 20px;
        }

        .priority-goal {
            margin-bottom: 15px;
            padding: 15px;
            background-color: var(--background);
            border-radius: 10px;
            border: 1px solid #E5E7EB;
        }

        .priority-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .priority-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background-color: var(--primary);
            color: var(--white);
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
            margin-right: 10px;
        }

        .priority-label {
            font-weight: 500;
        }

        .remove-priority {
            margin-left: auto;
            color: var(--error);
            cursor: pointer;
            font-size: 14px;
            padding: 5px;
        }

        .remove-priority:hover {
            color: #dc2626;
        }

        .add-priority-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 12px;
            background-color: transparent;
            border: 2px dashed #E5E7EB;
            border-radius: 10px;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .add-priority-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .add-priority-btn i {
            margin-right: 8px;
        }

        /* Success Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--white);
            border-radius: 16px;
            width: 100%;
            max-width: 450px;
            padding: 30px;
            box-shadow: var(--shadow-lg);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            text-align: center;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-icon {
            font-size: 60px;
            color: var(--success);
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .modal-text {
            color: var(--text-light);
            margin-bottom: 25px;
        }
        
        /* Animations */
        @keyframes pulse {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .onboarding-container {
                max-width: 100%;
            }
            
            .onboarding-header {
                padding: 20px;
            }
            
            .onboarding-body {
                padding: 20px;
            }
            
            .interests-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .buttons-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .interests-grid {
                grid-template-columns: 1fr;
            }
            
            .header-container {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="header-container">
            <a href="landing_page.html" class="logo">
                <div class="logo-text">Navi<span class="logo-accent">Disha</span></div>
            </a>
            
        </div>
    </header>
    
    <div class="main-content">
        <div class="onboarding-container">
            <div class="onboarding-header">
                <h2 class="onboarding-title">Your Career Journey Starts Here</h2>
                <p class="onboarding-subtitle">Complete your profile to get personalized career guidance</p>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text">
                        <span id="current-step">Step 1 of 5</span>
                        <span id="progress-percent">20%</span>
                    </div>
                </div>
            </div>
            
            <div class="onboarding-body">
                <div class="step-container active" id="step-1">
                    <h3 class="step-title">Tell Us About Yourself</h3>
                    <p class="step-description">We'll use this information to personalize your career recommendations.</p>
                    
                    <form id="personal-info-form">
                        
                        <div class="form-group">
                            <label for="gender" class="form-label">Gender</label>
                            <div class="select-wrapper">
                                <select id="gender" class="form-input" required>
                                    <option value="" disabled selected>Select your gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                    <option value="prefer-not-to-say">Prefer not to say</option>
                                </select>
                            </div>
                            <div class="error-message" id="gender-error">Please select your gender</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="grade" class="form-label">Grade/Class</label>
                            <div class="select-wrapper">
                                <select id="grade" class="form-input" required>
                                    <option value="" disabled selected>Select your grade</option>
                                    <option value="9">Grade 9</option>
                                    <option value="10">Grade 10</option>
                                    <option value="11">Grade 11</option>
                                    <option value="12">Grade 12</option>
                                </select>
                            </div>
                            <div class="error-message" id="grade-error">Please select your grade</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="stream" class="form-label">Academic Stream</label>
                            <div class="select-wrapper">
                                <select id="stream" class="form-input" required>
                                    <option value="" disabled selected>Select your academic stream</option>
                                    <option value="science">Science</option>
                                    <option value="commerce">Commerce</option>
                                    <option value="arts">Arts</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="error-message" id="stream-error">Please select your academic stream</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="state" class="form-label">State/UT</label>
                            <div class="select-wrapper">
                                <select id="state" class="form-input" required>
                                    <option value="" disabled selected>Select your state/UT</option>
                                    </select>
                            </div>
                            <div class="error-message" id="state-error">Please select your state/UT</div>
                        </div>

                         <div class="form-group">
                            <label for="district" class="form-label">District</label>
                            <div class="select-wrapper">
                                <select id="district" class="form-input" required disabled>
                                    <option value="" disabled selected>Select a state first</option>
                                    </select>
                            </div>
                            <div class="error-message" id="district-error">Please select your district</div>
                        </div>
                    </form>
                    
                    <div class="buttons-container">
                        <button class="btn btn-secondary" id="back-1" disabled>Back</button>
                        <button class="btn btn-primary" id="next-1">Next</button>
                    </div>
                </div>
                
                <div class="step-container" id="step-2">
                    <h3 class="step-title">Your Career Interests</h3>
                    <p class="step-description">Select areas that interest you. We'll suggest careers based on your choices.</p>
                    
                    <div class="form-group">
                        <label class="form-label">Select your interests</label>
                        <div class="interests-grid" id="interests-container">
                            </div>
                        <div class="error-message" id="interests-error">Please select at least one interest</div>
                    </div>
                    
                    <div class="buttons-container">
                        <button class="btn btn-secondary" id="back-2">Back</button>
                        <button class="btn btn-primary" id="next-2">Next</button>
                    </div>
                </div>
                
                <div class="step-container" id="step-3">
                    <h3 class="step-title">Your Goals & Aspirations</h3>
                    <p class="step-description">Tell us about your career goals and what you hope to achieve.</p>
                    
                    <div class="form-group">
                        <label for="career-goal" class="form-label">Primary Career Goal</label>
                        <div class="select-wrapper">
                            <select id="career-goal" class="form-input">
                                <option value="" disabled selected>Select your primary career goal</option>
                                <option value="engineering">Become an Engineer</option>
                                <option value="doctor">Become a Doctor</option>
                                <option value="research">Pursue Research</option>
                                <option value="business">Start a Business</option>
                                <option value="designer">Become a Designer</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="priority-goals-container" id="priority-goals-container">
                        <div class="priority-goal" data-priority="1">
                            <div class="priority-header">
                                <span class="priority-number">1</span>
                                <span class="priority-label">Priority Goal 1</span>
                                <span class="remove-priority" style="display: none;"><i class="fas fa-times"></i></span>
                            </div>
                            <input type="text" class="form-input priority-input" placeholder="Enter your priority goal">
                        </div>
                    </div>
                    
                    <button type="button" class="add-priority-btn" id="add-priority-btn">
                        <i class="fas fa-plus"></i> Add Another Priority Goal
                    </button>
                    
                    <div class="form-group">
                        <label for="goal-details" class="form-label">More about your goals</label>
                        <textarea id="goal-details" class="form-input" rows="4" placeholder="Tell us more about your aspirations and what you hope to achieve in your career..."></textarea>
                    </div>
                    
                    <div class="buttons-container">
                        <button class="btn btn-secondary" id="back-3">Back</button>
                        <button class="btn btn-primary" id="next-3">Next</button>
                    </div>
                </div>
                
                <div class="step-container" id="step-4">
                    <h3 class="step-title">Your Skills & Preferences</h3>
                    <p class="step-description">Select skills you have or would like to develop.</p>
                    
                    <div class="form-group">
                        <label class="form-label">Select your skills</label>
                        <div class="chips-container" id="skills-container">
                            </div>
                        
                        <div class="skill-input-container">
                            <input type="text" id="skill-input" class="skill-input" placeholder="Type a skill and press Enter to add">
                            <div class="skill-suggestions" id="skill-suggestions"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="work-preference" class="form-label">Work Environment Preference</label>
                        <div class="select-wrapper">
                            <select id="work-preference" class="form-input">
                                <option value="" disabled selected>Select your preferred work environment</option>
                                <option value="office">Office</option>
                                <option value="remote">Remote</option>
                                <option value="hybrid">Hybrid</option>
                                <option value="outdoor">Outdoor</option>
                                <option value="travel">Frequent Travel</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="buttons-container">
                        <button class="btn btn-secondary" id="back-4">Back</button>
                        <button class="btn btn-primary" id="next-4">Next</button>
                    </div>
                </div>
                
                <div class="step-container" id="step-5">
                    <h3 class="step-title">Review Your Information</h3>
                    <p class="step-description">Please review your information and submit to complete your profile.</p>
                    
                    <div class="summary-item">
                        <div class="summary-label">Personal Information</div>
                        <div class="summary-value" id="summary-gender"></div>
                        <div class="summary-value" id="summary-grade"></div>
                        <div class="summary-value" id="summary-stream"></div>
                        <div class="summary-value" id="summary-state"></div>
                        <div class="summary-value" id="summary-district"></div>
                        <a href="#" class="summary-edit" data-step="1">Edit</a>
                    </div>
                    
                    <div class="summary-item">
                        <div class="summary-label">Career Interests</div>
                        <div class="summary-value" id="summary-interests"></div>
                        <a href="#" class="summary-edit" data-step="2">Edit</a>
                    </div>
                    
                    <div class="summary-item">
                        <div class="summary-label">Goals & Aspirations</div>
                        <div class="summary-value" id="summary-goal"></div>
                        <div class="summary-value" id="summary-priority-goals"></div>
                        <div class="summary-value" id="summary-goal-details"></div>
                        <a href="#" class="summary-edit" data-step="3">Edit</a>
                    </div>
                    
                    <div class="summary-item">
                        <div class="summary-label">Skills & Preferences</div>
                        <div class="summary-value" id="summary-skills"></div>
                        <div class="summary-value" id="summary-work-pref"></div>
                        <a href="#" class="summary-edit" data-step="4">Edit</a>
                    </div>
                    
                    <div class="buttons-container">
                        <button class="btn btn-secondary" id="back-5">Back</button>
                        <button class="btn btn-accent" id="complete-profile">Finish & Create Profile</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 class="modal-title">Profile Created Successfully!</h3>
            <p class="modal-text">Your profile has been set up successfully. You can now explore personalized career recommendations.</p>
            <a href="dashboard.html" class="btn btn-primary">Go to Dashboard</a>
        </div>
    </div>
    
    <script>
        // Data for interests and skills
        const interestsData = {
            science: ['STEM', 'Medicine', 'Research', 'Biotechnology', 'Environmental Science'],
            commerce: ['Business', 'Finance', 'Marketing', 'Entrepreneurship', 'Economics'],
            arts: ['Literature', 'History', 'Psychology', 'Sociology', 'Philosophy'],
            general: ['Technology', 'Design', 'Education', 'Law', 'Government', 'Healthcare']
        };
        
        const skillsData = [
            'Problem Solving', 'Communication', 'Leadership', 'Teamwork', 'Creativity',
            'Critical Thinking', 'Time Management', 'Adaptability', 'Research', 'Writing',
            'Programming', 'Data Analysis', 'Design', 'Public Speaking', 'Mathematics'
        ];

        const indianStatesAndDistricts = {
            "Andaman and Nicobar Islands": ["Nicobar", "North and Middle Andaman", "South Andaman"],
            "Andhra Pradesh": ["Anantapur", "Chittoor", "East Godavari", "Guntur", "Krishna", "Kurnool", "Prakasam", "Srikakulam", "Sri Potti Sriramulu Nellore", "Visakhapatnam", "Vizianagaram", "West Godavari", "Y.S.R. Kadapa"],
            "Arunachal Pradesh": ["Anjaw", "Changlang", "Dibang Valley", "East Kameng", "East Siang", "Kamle", "Kra Daadi", "Kurung Kumey", "Lepa Rada", "Lohit", "Longding", "Lower Dibang Valley", "Lower Siang", "Lower Subansiri", "Namsai", "Pakke-Kessang", "Papum Pare", "Shi Yomi", "Siang", "Tawang", "Tirap", "Upper Siang", "Upper Subansiri", "West Kameng", "West Siang"],
            "Assam": ["Baksa", "Barpeta", "Biswanath", "Bongaigaon", "Cachar", "Charaideo", "Chirang", "Darrang", "Dhemaji", "Dhubri", "Dibrugarh", "Dima Hasao", "Goalpara", "Golaghat", "Hailakandi", "Hojai", "Jorhat", "Kamrup", "Kamrup Metropolitan", "Karbi Anglong", "Karimganj", "Kokrajhar", "Lakhimpur", "Majuli", "Morigaon", "Nagaon", "Nalbari", "Sivasagar", "Sonitpur", "South Salmara-Mankachar", "Tinsukia", "Udalguri", "West Karbi Anglong"],
            "Bihar": ["Araria", "Arwal", "Aurangabad", "Banka", "Begusarai", "Bhagalpur", "Bhojpur", "Buxar", "Darbhanga", "East Champaran", "Gaya", "Gopalganj", "Jamui", "Jehanabad", "Kaimur", "Katihar", "Khagaria", "Kishanganj", "Lakhisarai", "Madhepura", "Madhubani", "Munger", "Muzaffarpur", "Nalanda", "Nawada", "Patna", "Purnia", "Rohtas", "Saharsa", "Samastipur", "Saran", "Sheikhpura", "Sheohar", "Sitamarhi", "Siwan", "Supaul", "Vaishali", "West Champaran"],
            "Chandigarh": ["Chandigarh"],
            "Chhattisgarh": ["Balod", "Baloda Bazar", "Balrampur", "Bastar", "Bemetara", "Bijapur", "Bilaspur", "Dantewada", "Dhamtari", "Durg", "Gariaband", "Gaurela-Pendra-Marwahi", "Janjgir-Champa", "Jashpur", "Kabirdham", "Kanker", "Kondagaon", "Korba", "Koriya", "Mahasamund", "Mungeli", "Narayanpur", "Raigarh", "Raipur", "Rajnandgaon", "Sukma", "Surajpur", "Surguja"],
            "Dadra and Nagar Haveli and Daman and Diu": ["Daman", "Diu", "Dadra and Nagar Haveli"],
            "Delhi": ["Central Delhi", "East Delhi", "New Delhi", "North Delhi", "North East Delhi", "North West Delhi", "Shahdara", "South Delhi", "South East Delhi", "South West Delhi", "West Delhi"],
            "Goa": ["North Goa", "South Goa"],
            "Gujarat": ["Ahmedabad", "Amreli", "Anand", "Aravalli", "Banaskantha", "Bharuch", "Bhavnagar", "Botad", "Chhota Udaipur", "Dahod", "Dang", "Devbhoomi Dwarka", "Gandhinagar", "Gir Somnath", "Jamnagar", "Junagadh", "Kheda", "Kutch", "Mahisagar", "Mehsana", "Morbi", "Narmada", "Navsari", "Panchmahal", "Patan", "Porbandar", "Rajkot", "Sabarkantha", "Surat", "Surendranagar", "Tapi", "Vadodara", "Valsad"],
            "Haryana": ["Ambala", "Bhiwani", "Charkhi Dadri", "Faridabad", "Fatehabad", "Gurugram", "Hisar", "Jhajjar", "Jind", "Kaithal", "Karnal", "Kurukshetra", "Mahendragarh", "Nuh", "Palwal", "Panchkula", "Panipat", "Rewari", "Rohtak", "Sirsa", "Sonipat", "Yamunanagar"],
            "Himachal Pradesh": ["Bilaspur", "Chamba", "Hamirpur", "Kangra", "Kinnaur", "Kullu", "Lahaul and Spiti", "Mandi", "Shimla", "Sirmaur", "Solan", "Una"],
            "Jammu and Kashmir": ["Anantnag", "Bandipora", "Baramulla", "Budgam", "Doda", "Ganderbal", "Jammu", "Kathua", "Kishtwar", "Kulgam", "Kupwara", "Poonch", "Pulwama", "Rajouri", "Ramban", "Reasi", "Samba", "Shopian", "Srinagar", "Udhampur"],
            "Jharkhand": ["Bokaro", "Chatra", "Deoghar", "Dhanbad", "Dumka", "East Singhbhum", "Garhwa", "Giridih", "Godda", "Gumla", "Hazaribagh", "Jamtara", "Khunti", "Koderma", "Latehar", "Lohardaga", "Pakur", "Palamu", "Ramgarh", "Ranchi", "Sahebganj", "Seraikela Kharsawan", "Simdega", "West Singhbhum"],
            "Karnataka": ["Bagalkot", "Ballari", "Belagavi", "Bengaluru Rural", "Bengaluru Urban", "Bidar", "Chamarajanagar", "Chikkaballapur", "Chikkamagaluru", "Chitradurga", "Dakshina Kannada", "Davanagere", "Dharwad", "Gadag", "Hassan", "Haveri", "Kalaburagi", "Kodagu", "Kolar", "Koppal", "Mandya", "Mysuru", "Raichur", "Ramanagara", "Shivamogga", "Tumakuru", "Udupi", "Uttara Kannada", "Vijayapura", "Yadgir"],
            "Kerala": ["Alappuzha", "Ernakulam", "Idukki", "Kannur", "Kasaragod", "Kollam", "Kottayam", "Kozhikode", "Malappuram", "Palakkad", "Pathanamthitta", "Thiruvananthapuram", "Thrissur", "Wayanad"],
            "Ladakh": ["Kargil", "Leh"],
            "Lakshadweep": ["Lakshadweep"],
            "Madhya Pradesh": ["Agar Malwa", "Alirajpur", "Anuppur", "Ashoknagar", "Balaghat", "Barwani", "Betul", "Bhind", "Bhopal", "Burhanpur", "Chhatarpur", "Chhindwara", "Damoh", "Datia", "Dewas", "Dhar", "Dindori", "Guna", "Gwalior", "Harda", "Hoshangabad", "Indore", "Jabalpur", "Jhabua", "Katni", "Khandwa", "Khargone", "Mandla", "Mandsaur", "Morena", "Narsinghpur", "Neemuch", "Panna", "Raisen", "Rajgarh", "Ratlam", "Rewa", "Sagar", "Satna", "Sehore", "Seoni", "Shahdol", "Shajapur", "Sheopur", "Shivpuri", "Sidhi", "Singrauli", "Tikamgarh", "Ujjain", "Umaria", "Vidisha"],
            "Maharashtra": ["Ahmednagar", "Akola", "Amravati", "Aurangabad", "Beed", "Bhandara", "Buldhana", "Chandrapur", "Dhule", "Gadchiroli", "Gondia", "Hingoli", "Jalgaon", "Jalna", "Kolhapur", "Latur", "Mumbai City", "Mumbai Suburban", "Nagpur", "Nanded", "Nandurbar", "Nashik", "Osmanabad", "Palghar", "Parbhani", "Pune", "Raigad", "Ratnagiri", "Sangli", "Satara", "Sindhudurg", "Solapur", "Thane", "Wardha", "Washim", "Yavatmal"],
            "Manipur": ["Bishnupur", "Chandel", "Churachandpur", "Imphal East", "Imphal West", "Jiribam", "Kakching", "Kamjong", "Kangpokpi", "Noney", "Pherzawl", "Senapati", "Tamenglong", "Tengnoupal", "Thoubal", "Ukhrul"],
            "Meghalaya": ["East Garo Hills", "East Jaintia Hills", "East Khasi Hills", "North Garo Hills", "Ri Bhoi", "South Garo Hills", "South West Garo Hills", "South West Khasi Hills", "West Garo Hills", "West Jaintia Hills", "West Khasi Hills"],
            "Mizoram": ["Aizawl", "Champhai", "Hnahthial", "Khawzawl", "Kolasib", "Lawngtlai", "Lunglei", "Mamit", "Saiha", "Saitual", "Serchhip"],
            "Nagaland": ["Dimapur", "Kiphire", "Kohima", "Longleng", "Mokokchung", "Mon", "Peren", "Phek", "Tuensang", "Wokha", "Zunheboto"],
            "Odisha": ["Angul", "Balangir", "Balasore", "Bargarh", "Bhadrak", "Boudh", "Cuttack", "Deogarh", "Dhenkanal", "Gajapati", "Ganjam", "Jagatsinghpur", "Jajpur", "Jharsuguda", "Kalahandi", "Kandhamal", "Kendrapara", "Kendujhar", "Khordha", "Koraput", "Malkangiri", "Mayurbhanj", "Nabarangpur", "Nayagarh", "Nuapada", "Puri", "Rayagada", "Sambalpur", "Subarnapur", "Sundargarh"],
            "Puducherry": ["Karaikal", "Mahe", "Puducherry", "Yanam"],
            "Punjab": ["Amritsar", "Barnala", "Bathinda", "Faridkot", "Fatehgarh Sahib", "Fazilka", "Ferozepur", "Gurdaspur", "Hoshiarpur", "Jalandhar", "Kapurthala", "Ludhiana", "Mansa", "Moga", "Muktsar", "Pathankot", "Patiala", "Rupnagar", "Sahibzada Ajit Singh Nagar", "Sangrur", "Shahid Bhagat Singh Nagar", "Tarn Taran"],
            "Rajasthan": ["Ajmer", "Alwar", "Banswara", "Baran", "Barmer", "Bharatpur", "Bhilwara", "Bikaner", "Bundi", "Chittorgarh", "Churu", "Dausa", "Dholpur", "Dungarpur", "Hanumangarh", "Jaipur", "Jaisalmer", "Jalore", "Jhalawar", "Jhunjhunu", "Jodhpur", "Karauli", "Kota", "Nagaur", "Pali", "Pratapgarh", "Rajsamand", "Sawai Madhopur", "Sikar", "Sirohi", "Sri Ganganagar", "Tonk", "Udaipur"],
            "Sikkim": ["East Sikkim", "North Sikkim", "South Sikkim", "West Sikkim"],
            "Tamil Nadu": ["Ariyalur", "Chengalpattu", "Chennai", "Coimbatore", "Cuddalore", "Dharmapuri", "Dindigul", "Erode", "Kallakurichi", "Kanchipuram", "Kanyakumari", "Karur", "Krishnagiri", "Madurai", "Mayiladuthurai", "Nagapattinam", "Namakkal", "Nilgiris", "Perambalur", "Pudukkottai", "Ramanathapuram", "Ranipet", "Salem", "Sivaganga", "Tenkasi", "Thanjavur", "Theni", "Thoothukudi", "Tiruchirappalli", "Tirunelveli", "Tirupathur", "Tiruppur", "Tiruvallur", "Tiruvannamalai", "Tiruvarur", "Vellore", "Viluppuram", "Virudhunagar"],
            "Telangana": ["Adilabad", "Bhadradri Kothagudem", "Hyderabad", "Jagtial", "Jangaon", "Jayashankar Bhupalpally", "Jogulamba Gadwal", "Kamareddy", "Karimnagar", "Khammam", "Komaram Bheem", "Mahabubabad", "Mahabubnagar", "Mancherial", "Medak", "Medchal-Malkajgiri", "Mulugu", "Nagarkurnool", "Nalgonda", "Narayanpet", "Nirmal", "Nizamabad", "Peddapalli", "Rajanna Sircilla", "Ranga Reddy", "Sangareddy", "Siddipet", "Suryapet", "Vikarabad", "Wanaparthy", "Warangal Rural", "Warangal Urban", "Yadadri Bhuvanagiri"],
            "Tripura": ["Dhalai", "Gomati", "Khowai", "North Tripura", "Sepahijala", "South Tripura", "Unakoti", "West Tripura"],
            "Uttar Pradesh": ["Agra", "Aligarh", "Ambedkar Nagar", "Amethi", "Amroha", "Auraiya", "Ayodhya", "Azamgarh", "Baghpat", "Bahraich", "Ballia", "Balrampur", "Banda", "Barabanki", "Bareilly", "Basti", "Bhadohi", "Bijnor", "Budaun", "Bulandshahr", "Chandauli", "Chitrakoot", "Deoria", "Etah", "Etawah", "Farrukhabad", "Fatehpur", "Firozabad", "Gautam Buddha Nagar", "Ghaziabad", "Ghazipur", "Gonda", "Gorakhpur", "Hamirpur", "Hapur", "Hardoi", "Hathras", "Jalaun", "Jaunpur", "Jhansi", "Kannauj", "Kanpur Dehat", "Kanpur Nagar", "Kasganj", "Kaushambi", "Kheri", "Kushinagar", "Lalitpur", "Lucknow", "Maharajganj", "Mahoba", "Mainpuri", "Mathura", "Mau", "Meerut", "Mirzapur", "Moradabad", "Muzaffarnagar", "Pilibhit", "Pratapgarh", "Prayagraj", "Raebareli", "Rampur", "Saharanpur", "Sambhal", "Sant Kabir Nagar", "Shahjahanpur", "Shamli", "Shravasti", "Siddharthnagar", "Sitapur", "Sonbhadra", "Sultanpur", "Unnao", "Varanasi"],
            "Uttarakhand": ["Almora", "Bageshwar", "Chamoli", "Champawat", "Dehradun", "Haridwar", "Nainital", "Pauri Garhwal", "Pithoragarh", "Rudraprayag", "Tehri Garhwal", "Udham Singh Nagar", "Uttarkashi"],
            "West Bengal": ["Alipurduar", "Bankura", "Birbhum", "Cooch Behar", "Dakshin Dinajpur", "Darjeeling", "Hooghly", "Howrah", "Jalpaiguri", "Jhargram", "Kalimpong", "Kolkata", "Malda", "Murshidabad", "Nadia", "North 24 Parganas", "Paschim Bardhaman", "Paschim Medinipur", "Purba Bardhaman", "Purba Medinipur", "Purulia", "South 24 Parganas", "Uttar Dinajpur"]
        };
        
        // Initialize state
        let currentStep = 1;
        const totalSteps = 5;
        const userData = {
            personalInfo: {},
            interests: [],
            goals: {},
            skills: [],
            priorityGoals: []
        };
        
        // DOM Elements
        const progressFill = document.getElementById('progress-fill');
        const currentStepElement = document.getElementById('current-step');
        const progressPercent = document.getElementById('progress-percent');
        const stepContainers = document.querySelectorAll('.step-container');
        const nextButtons = {
            1: document.getElementById('next-1'),
            2: document.getElementById('next-2'),
            3: document.getElementById('next-3'),
            4: document.getElementById('next-4')
        };
        const backButtons = {
            2: document.getElementById('back-2'),
            3: document.getElementById('back-3'),
            4: document.getElementById('back-4'),
            5: document.getElementById('back-5')
        };
        const completeButton = document.getElementById('complete-profile');
        const successModal = document.getElementById('success-modal');
        const addPriorityBtn = document.getElementById('add-priority-btn');
        const priorityGoalsContainer = document.getElementById('priority-goals-container');
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            populateStates();
            populateInterests();
            populateSkills();
            setupEventListeners();
        });
        
        // Set up event listeners
        function setupEventListeners() {
            // Next buttons
            nextButtons[1].addEventListener('click', validateStep1);
            nextButtons[2].addEventListener('click', validateStep2);
            nextButtons[3].addEventListener('click', validateStep3);
            nextButtons[4].addEventListener('click', validateStep4);
            
            // Back buttons
            backButtons[2].addEventListener('click', () => navigateToStep(1));
            backButtons[3].addEventListener('click', () => navigateToStep(2));
            backButtons[4].addEventListener('click', () => navigateToStep(3));
            backButtons[5].addEventListener('click', () => navigateToStep(4));
            
            // Complete button
            completeButton.addEventListener('click', completeProfile);
            
            // Edit summary links
            document.querySelectorAll('.summary-edit').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const step = parseInt(this.getAttribute('data-step'));
                    navigateToStep(step);
                });
            });

            // State/District change event
            document.getElementById('state').addEventListener('change', function() {
                populateDistricts(this.value);
            });
            
            // Stream change event
            document.getElementById('stream').addEventListener('change', function() {
                populateInterests();
            });
            
            // Skill input
            const skillInput = document.getElementById('skill-input');
            const skillSuggestions = document.getElementById('skill-suggestions');
            
            skillInput.addEventListener('focus', function() {
                showSkillSuggestions();
            });
            
            skillInput.addEventListener('input', function() {
                showSkillSuggestions();
            });
            
            skillInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addCustomSkill(this.value);
                    this.value = '';
                    skillSuggestions.style.display = 'none';
                }
            });
            
            // Close suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (skillInput && skillSuggestions && 
                    !skillInput.contains(e.target) && !skillSuggestions.contains(e.target)) {
                    skillSuggestions.style.display = 'none';
                }
            });
            
            // Add priority goal button
            addPriorityBtn.addEventListener('click', addPriorityGoal);
        }

        // Populate state dropdown
        function populateStates() {
            const stateSelect = document.getElementById('state');
            const states = Object.keys(indianStatesAndDistricts).sort();
            states.forEach(state => {
                const option = document.createElement('option');
                option.value = state;
                option.textContent = state;
                stateSelect.appendChild(option);
            });
        }

        // Populate district dropdown based on selected state
        function populateDistricts(selectedState) {
            const districtSelect = document.getElementById('district');
            districtSelect.innerHTML = ''; // Clear old options
            districtSelect.disabled = true;

            if (!selectedState) {
                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.textContent = "Select a state first";
                defaultOption.disabled = true;
                defaultOption.selected = true;
                districtSelect.appendChild(defaultOption);
                return;
            }

            const districts = indianStatesAndDistricts[selectedState].sort();
            
            const defaultOption = document.createElement('option');
            defaultOption.value = "";
            defaultOption.textContent = "Select your district";
            defaultOption.disabled = true;
            defaultOption.selected = true;
            districtSelect.appendChild(defaultOption);

            districts.forEach(district => {
                const option = document.createElement('option');
                option.value = district;
                option.textContent = district;
                districtSelect.appendChild(option);
            });
            
            districtSelect.disabled = false;
        }
        
        // Add a new priority goal field
        function addPriorityGoal() {
            const priorityCount = document.querySelectorAll('.priority-goal').length;
            
            if (priorityCount >= 3) {
                return;
            }
            
            const newPriority = priorityCount + 1;
            const priorityGoal = document.createElement('div');
            priorityGoal.className = 'priority-goal';
            priorityGoal.setAttribute('data-priority', newPriority);
            priorityGoal.innerHTML = `
                <div class="priority-header">
                    <span class="priority-number">${newPriority}</span>
                    <span class="priority-label">Priority Goal ${newPriority}</span>
                    <span class="remove-priority"><i class="fas fa-times"></i></span>
                </div>
                <input type="text" class="form-input priority-input" placeholder="Enter your priority goal">
            `;
            
            // Add remove event listener
            const removeBtn = priorityGoal.querySelector('.remove-priority');
            removeBtn.addEventListener('click', function() {
                priorityGoal.remove();
                renumberPriorityGoals();
            });
            
            priorityGoalsContainer.appendChild(priorityGoal);
            
            if (document.querySelectorAll('.priority-goal').length >= 3) {
                addPriorityBtn.style.display = 'none';
            }
        }
        
        // Renumber priority goals after one is removed
        function renumberPriorityGoals() {
            const priorityGoals = document.querySelectorAll('.priority-goal');
            priorityGoals.forEach((goal, index) => {
                const priorityNumber = index + 1;
                goal.setAttribute('data-priority', priorityNumber);
                goal.querySelector('.priority-number').textContent = priorityNumber;
                goal.querySelector('.priority-label').textContent = `Priority Goal ${priorityNumber}`;
            });

            if (priorityGoals.length < 3) {
                addPriorityBtn.style.display = 'flex';
            }
        }
        
        // Populate interests based on selected stream
        function populateInterests() {
            const interestsContainer = document.getElementById('interests-container');
            const selectedStream = document.getElementById('stream').value;
            
            interestsContainer.innerHTML = '';
            
            // Always show general interests
            interestsData.general.forEach(interest => {
                addInterestCheckbox(interest, interestsContainer);
            });
            
            // Show stream-specific interests
            if (selectedStream && interestsData[selectedStream]) {
                interestsData[selectedStream].forEach(interest => {
                    addInterestCheckbox(interest, interestsContainer);
                });
            }
        }
        
        // Add an interest checkbox to the container
        function addInterestCheckbox(interest, container) {
            const interestId = `interest-${interest.toLowerCase().replace(/\s+/g, '-')}`;
            
            const interestItem = document.createElement('div');
            interestItem.className = 'interest-item';
            interestItem.innerHTML = `
                <input type="checkbox" id="${interestId}" class="interest-input" value="${interest}">
                <label for="${interestId}" class="interest-label">${interest}</label>
            `;
            
            container.appendChild(interestItem);
        }
        
        // Populate skills chips
        function populateSkills() {
            const skillsContainer = document.getElementById('skills-container');
            
            skillsData.forEach(skill => {
                addSkillChip(skill, skillsContainer, false);
            });
        }
        
        // Add a skill chip to the container
        function addSkillChip(skill, container, isCustom = false) {
            const skillId = `skill-${skill.toLowerCase().replace(/\s+/g, '-')}`;
            
            const skillChip = document.createElement('div');
            skillChip.className = 'skill-chip';
            skillChip.setAttribute('data-skill', skill);
            if (isCustom) {
                skillChip.classList.add('custom');
            }
            skillChip.innerHTML = `
                ${skill}
                <span class="remove" style="display: none;"><i class="fas fa-times"></i></span>
            `;
            
            skillChip.addEventListener('click', function() {
                this.classList.toggle('selected');
                const removeIcon = this.querySelector('.remove');
                removeIcon.style.display = this.classList.contains('selected') ? 'inline' : 'none';
            });
            
            // Add remove functionality for custom skills
            if (isCustom) {
                const removeIcon = skillChip.querySelector('.remove');
                removeIcon.style.display = 'inline';
                
                removeIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    skillChip.remove();
                });
            }
            
            container.appendChild(skillChip);
        }
        
        // Show skill suggestions based on input
        function showSkillSuggestions() {
            const input = document.getElementById('skill-input').value.toLowerCase();
            const suggestionsContainer = document.getElementById('skill-suggestions');
            
            suggestionsContainer.innerHTML = '';
            
            if (input.length === 0) {
                suggestionsContainer.style.display = 'none';
                return;
            }
            
            const filteredSkills = skillsData.filter(skill => 
                skill.toLowerCase().includes(input) && 
                !document.querySelector(`.skill-chip[data-skill="${skill}"]`)
            );
            
            if (filteredSkills.length === 0) {
                suggestionsContainer.style.display = 'none';
                return;
            }
            
            filteredSkills.forEach(skill => {
                const suggestion = document.createElement('div');
                suggestion.className = 'skill-suggestion';
                suggestion.textContent = skill;
                
                suggestion.addEventListener('click', function() {
                    addSkillChip(skill, document.getElementById('skills-container'));
                    document.getElementById('skill-input').value = '';
                    suggestionsContainer.style.display = 'none';
                });
                
                suggestionsContainer.appendChild(suggestion);
            });
            
            suggestionsContainer.style.display = 'block';
        }
        
        // Add a custom skill
        function addCustomSkill(skill) {
            if (!skill || skill.trim().length === 0) return;
            
            const skillsContainer = document.getElementById('skills-container');
            
            // Check if skill already exists
            if (document.querySelector(`.skill-chip[data-skill="${skill}"]`)) {
                return;
            }
            
            addSkillChip(skill, skillsContainer, true);
        }
        
        // Validate step 1 (Personal Info)
        function validateStep1() {
            const gender = document.getElementById('gender');
            const grade = document.getElementById('grade');
            const stream = document.getElementById('stream');
            const state = document.getElementById('state');
            const district = document.getElementById('district');
            
            let isValid = true;
            
            // Validate Gender
            if (!gender.value) {
                document.getElementById('gender-error').style.display = 'block';
                gender.classList.add('error');
                isValid = false;
            } else {
                document.getElementById('gender-error').style.display = 'none';
                gender.classList.remove('error');
            }
            
            // Validate Grade
            if (!grade.value) {
                document.getElementById('grade-error').style.display = 'block';
                grade.classList.add('error');
                isValid = false;
            } else {
                document.getElementById('grade-error').style.display = 'none';
                grade.classList.remove('error');
            }
            
            // Validate Stream
            if (!stream.value) {
                document.getElementById('stream-error').style.display = 'block';
                stream.classList.add('error');
                isValid = false;
            } else {
                document.getElementById('stream-error').style.display = 'none';
                stream.classList.remove('error');
            }
            
            // Validate State
            if (!state.value) {
                document.getElementById('state-error').style.display = 'block';
                state.classList.add('error');
                isValid = false;
            } else {
                document.getElementById('state-error').style.display = 'none';
                state.classList.remove('error');
            }

            // Validate District
            if (!district.value) {
                document.getElementById('district-error').style.display = 'block';
                district.classList.add('error');
                isValid = false;
            } else {
                document.getElementById('district-error').style.display = 'none';
                district.classList.remove('error');
            }
            
            if (isValid) {
                // Save data
                userData.personalInfo = {
                    gender: gender.value,
                    grade: grade.value,
                    stream: stream.value,
                    state: state.value,
                    district: district.value
                };
                
                navigateToStep(2);
            }
        }
        
        // Validate step 2 (Interests)
        function validateStep2() {
            const selectedInterests = document.querySelectorAll('.interest-input:checked');
            
            if (selectedInterests.length === 0) {
                document.getElementById('interests-error').style.display = 'block';
                return;
            }
            
            document.getElementById('interests-error').style.display = 'none';
            
            // Save data
            userData.interests = Array.from(selectedInterests).map(input => input.value);
            
            navigateToStep(3);
        }
        
        // Validate step 3 (Goals)
        function validateStep3() {
            // Save data
            userData.goals = {
                careerGoal: document.getElementById('career-goal').value || 'Not specified',
                goalDetails: document.getElementById('goal-details').value.trim() || 'Not specified'
            };
            
            // Get priority goals
            userData.priorityGoals = [];
            const priorityInputs = document.querySelectorAll('.priority-input');
            priorityInputs.forEach(input => {
                if (input.value.trim()) {
                    userData.priorityGoals.push(input.value.trim());
                }
            });
            
            navigateToStep(4);
        }
        
        // Validate step 4 (Skills)
        function validateStep4() {
            // Save data
            const selectedSkills = document.querySelectorAll('.skill-chip.selected');
            userData.skills = Array.from(selectedSkills).map(chip => chip.getAttribute('data-skill'));
            
            userData.workPreference = document.getElementById('work-preference').value || 'Not specified';
            
            // Update summary
            updateSummary();
            
            navigateToStep(5);
        }
        
        // Update the summary section
        function updateSummary() {
            // Personal info
            document.getElementById('summary-gender').textContent = `Gender: ${userData.personalInfo.gender}`;
            document.getElementById('summary-grade').textContent = `Grade: ${userData.personalInfo.grade}`;
            document.getElementById('summary-stream').textContent = `Stream: ${userData.personalInfo.stream}`;
            document.getElementById('summary-state').textContent = `State/UT: ${userData.personalInfo.state}`;
            document.getElementById('summary-district').textContent = `District: ${userData.personalInfo.district}`;
            
            // Interests
            document.getElementById('summary-interests').textContent = userData.interests.join(', ') || 'None selected';
            
            // Goals
            document.getElementById('summary-goal').textContent = `Primary Goal: ${userData.goals.careerGoal}`;
            
            let priorityGoalsHtml = '';
            if (userData.priorityGoals.length > 0) {
                priorityGoalsHtml = 'Priority Goals:<br>';
                userData.priorityGoals.forEach((goal, index) => {
                    priorityGoalsHtml += `${index + 1}. ${goal}<br>`;
                });
            } else {
                priorityGoalsHtml = 'Priority Goals: None specified';
            }
            document.getElementById('summary-priority-goals').innerHTML = priorityGoalsHtml;
            
            document.getElementById('summary-goal-details').textContent = `Details: ${userData.goals.goalDetails}`;
            
            // Skills
            document.getElementById('summary-skills').textContent = `Skills: ${userData.skills.join(', ') || 'None selected'}`;
            document.getElementById('summary-work-pref').textContent = `Work Preference: ${userData.workPreference}`;
        }
        
        // Complete the profile
        async function completeProfile() {
            // In a real app, you would send the userData object to a server here
        //     try {
        //     // Construct payload
        //     const payload = {
        //         sex: userData.personalInfo.gender,
        //         state: userData.personalInfo.state,
        //         district: userData.personalInfo.district,
        //         classLevel: userData.personalInfo.grade,
        //     };

        //     console.log("Sending payload:", payload);

        //     // Send to backend
        //     const response = await fetch('http://localhost:3000/api/user/', {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json',
        //             // include auth header if needed:
        //             'Authorization': `Bearer ${localStorage.getItem('token')}`
        //         },
        //         body: JSON.stringify(payload)
        //     });

        //     if (!response.ok) {
        //         throw new Error(`Failed: ${response.status}`);
        //     }

        //     const result = await response.json();
        //     console.log('Saved to DB:', result);

        //     // Show success modal
        //     successModal.classList.add('active');
        // } catch (err) {
        //     console.error("Error saving profile:", err);
        //     alert("Something went wrong while saving your profile. Try again.");
        // }
        console.log('User Profile Data:', userData);
    }
        
        // Navigate to a specific step
        function navigateToStep(step) {
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            
            // Show new step
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Update current step
            currentStep = step;
            updateProgress();
        }
        
        // Update progress bar and step indicator
        function updateProgress() {
            const progressPercentage = ((currentStep - 1) / (totalSteps - 1)) * 100;
            progressFill.style.width = `${progressPercentage}%`;
            currentStepElement.textContent = `Step ${currentStep} of ${totalSteps}`;
            progressPercent.textContent = `${Math.round(progressPercentage)}%`;
        }
    </script>
</body>
</html>
